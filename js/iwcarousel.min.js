!function(r){"use strict";function i(e,t){var u=this;u.element=r(e),u.options=r.extend({},n,t),u.getNext=function(e){return e.next().length?e.next():u.slides.first()},u.getPrev=function(e){return e.prev().length?e.prev():u.slides.last()},u.reorderSlides=function(e,t){var n,i,a,o=u.count;for(u.ref=e.css("order",1),t&&(a=r().add(e.clone().addClass("iwcarousel-clone").css("order",1+o))),n=i=2;2<=o?i<=o:o<=i;n=2<=o?++i:--i)e=u.getNext(e).css("order",n),t&&(a=a.add(e.clone().addClass("iwcarousel-clone").css("order",n+o)));t&&a.appendTo(u.iwcarousel)},u.shiftTo=function(e){if(!u.animating){var t,n=u.ref.index(),i=u.count,a=Math.round(i/2),o=e-n-1,r=u.slides.eq(e),s=u.getPrev(r),l=u.vertical?u.ref.height():u.ref.width(),c=0;if(o)return u.animating=1,o<-a?o+=i:a<o&&(o-=i),(o<=u.maxSlide||1<o)&&(c=1,(o<u.maxSlide||1<o)&&(o-=i)),u.reorderSlides(s,c),t=o*l,u.iwcarousel.removeClass("is-set").css({transform:"translate"+(u.vertical?"Y":"X")+"("+t+"px)"}),setTimeout(function(){return u.iwcarousel.addClass("is-set").removeAttr("style"),u.setActive()},50)}},u.shiftOne=function(e){var t;if(u.playing&&u.play(),!u.animating&&u.isVisible())return u.animating=1,"prev"===e?(t=u.getPrev(u.ref),u.iwcarousel.addClass("is-reversing")):(t=u.getNext(u.ref),u.iwcarousel.removeClass("is-reversing")),u.reorderSlides(t,0),u.iwcarousel.removeClass("is-set"),setTimeout(function(){return u.iwcarousel.addClass("is-set"),u.setActive()},50)},u.play=function(){clearTimeout(u.timeout),u.playing=1,u.timeout=setTimeout(u.shiftOne,u.options.speed)},u.stop=function(){clearTimeout(u.timeout),u.playing=0},u.setupCtlNav=function(){for(var e=r('<ol class="iwcarousel-ctl-nav">'),t=u.options.ctlNavContainer&&r(u.options.ctlNavContainer).length?r(u.options.ctlNavContainer):u.element,n=0,i=u.count;n<i;n++)e.append("<li><a>"+n+"</a></li>");e.appendTo(t),u.ctlNav=e.on("click","li > a",function(e){e.preventDefault(),e.stopPropagation();var t=r(e.target).parent().index();u.shiftTo(t),u.stop()})},u.setupDirNav=function(){var e=r('<ul class="iwcarousel-dir-nav"><li><a class="iwcarousel-prev" href="#">Previous</a></li><li><a class="iwcarousel-next" href="#">Next</a></li></ul>'),t=u.options.dirNavContainer&&r(u.options.dirNavContainer).length?r(u.options.dirNavContainer):u.element;e.appendTo(t),u.dirNav=e.on("click",".iwcarousel-prev,.iwcarousel-next",function(e){e.preventDefault(),e.stopPropagation();var t=r(e.target);r(t).hasClass("iwcarousel-next")&&u.shiftOne("next")||r(t).hasClass("iwcarousel-prev")&&u.shiftOne("prev")})},u.isVisible=function(){return!document.hidden&&u.element.is(":visible")&&"hidden"!==u.element.css("visibility")},u.handleSwipe=function(){var e,t=Math.abs(u.touchDeltaX);t<=40||(0<(e=t/u.touchDeltaX)&&u.shiftOne("prev"),e<0&&u.shiftOne("next"))},u.setupTouch=function(){if(this.hasTouch){var t=function(e){u.hasPointer&&/touch|pen/.test(e.originalEvent.pointerType)?u.touchStartX=e.originalEvent.clientX:u.hasPointer||(u.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){u.hasPointer&&/touch|pen/.test(e.originalEvent.pointerType)&&(u.touchDeltaX=e.originalEvent.clientX-u.touchStartX),u.handleSwipe()};u.element.find("img").on("dragstart",function(e){return e.preventDefault()}),this._pointerEvent?(u.element.on("pointerdown",function(e){return t(e)}),u.element.on("pointerup",function(e){return n(e)}),u.element.addClass("pointer-event")):(u.element.on("touchstart",function(e){return t(e)}),u.element.on("touchmove",function(e){var t;(t=e).originalEvent.touches&&1<t.originalEvent.touches.length?u.touchDeltaX=0:u.touchDeltaX=t.originalEvent.touches[0].clientX-u.touchStartX}),u.element.on("touchend",function(e){return n(e)}))}},u.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName))switch(e.which){case 37:e.preventDefault(),u.shiftOne("prev");break;case 39:e.preventDefault(),u.shiftOne("right")}},u.setActive=function(){var e="iwcarousel-active",t=u.ref.index()+1,n=t===u.count?0:t;u.slides.removeClass(e).eq(n).addClass(e),u.ctlNav&&u.ctlNav.find("a").removeClass(e).eq(n).addClass(e)},u.init=function(){u.element.css({overflow:"hidden"}),u.iwcarousel=r(u.options.container,u.element).first(),u.slides=r(u.options.selector,u.iwcarousel),u.count=u.slides.length,u.ref=u.slides.last().css({order:1}),u.vertical=u.options.vertical||u.element.hasClass("shift-vertical"),u.animating=0,u.touchStartX=0,u.touchDeltaX=0,u.hasTouch="ontouchstart"in document.documentElement||0<navigator.maxTouchPoints,u.hasPointer=Boolean(window.PointerEvent||window.MSPointerEvent),u.setupTouch(),u.initialHeight=u.element.height(),u.options.ctlNav&&u.setupCtlNav(),u.options.dirNav&&u.setupDirNav(),u.iwcarousel.on("webkitTransitionEnd transitionend",function(){u.animating=0,r(".iwcarousel-clone",u.iwcarousel).remove()}),r(document).on("keydown",u.keydown),u.setActive();var e=u.vertical?u.ref.height():u.ref.width(),t=u.vertical?u.iwcarousel.height():u.iwcarousel.width();u.maxSlide=(e?Math.round(t/e):1)-u.count,u.play()},u.init()}var n={container:"ul.slides",selector:"> li",speed:7e3,ctlNav:!0,dirNav:!0,ctlNavContainer:"",dirNavContainer:"",vertical:!1,fade:!1};r.fn.iwcarousel=function(n){if(void 0===n&&(n={}),"object"==typeof n)return this.each(function(e,t){r.data(t,"iwcarousel")||r.data(t,"iwcarousel",new i(this,n))});var e=r(this).data("iwcarousel");switch(n){case"play":e.play();break;case"stop":e.stop();break;case"prev":case"previous":e.shiftOne("prev");break;case"next":e.shiftOne("next");break;default:e.shiftTo(parseInt(n))}}}(jQuery);